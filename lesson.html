<div 
  style="position:relative; padding-left:200px; height:100%;"
  inbook-lib-math
  inbook-lib-animation-presets
>
  <script type="text/inbook-javascript" inbook-javascript>
    var sceneBaseUrl = 'assets/scenes/'
    var sceneSections = scope.sceneSections = [
      {name:'3.02 Les Fractions', scenes:[
        {name: 'Les Fractions', url: '3_02-les_fractions/01.html'}, 
        {name: 'scene-1', url: '3_02-les_fractions/01-scene-1.html'},
        {name: 'scene-2', url: '3_02-les_fractions/01-scene-2.html'},
        {name: 'exercise-1', url: '3_02-les_fractions/02-exercise-1.html'},
        {name: 'exercise-3', url: '3_02-les_fractions/02-exercise-3.html'},
        {name: 'exercise-4', url: '3_02-les_fractions/02-exercise-4.html'},
        {name: 'scene-3', url: '3_02-les_fractions/01-scene-3.html'},
        {name: 'exercise-6', url: '3_02-les_fractions/02-exercise-6.html'},
        {name: 'scene-4', url: '3_02-les_fractions/01-scene-4.html'},
        {name: 'exercise-9', url: '3_02-les_fractions/02-exercise-9.html'},
        {name: 'exercise-10', url: '3_02-les_fractions/02-exercise-10.html'},
        {name: 'scene-5', url: '3_02-les_fractions/01-scene-5.html'},
        {name: 'exercise-11', url: '3_02-les_fractions/02-exercise-11.html'},
        {name: 'exercise-12', url: '3_02-les_fractions/02-exercise-12.html', disabled:true},
        {name: 'scene-6', url: '3_02-les_fractions/01-scene-6.html'},
        {name: 'exercise-13', url: '3_02-les_fractions/02-exercise-13.html'},
        {name: 'scene-7', url: '3_02-les_fractions/01-scene-7.html'},
        {name: '02-exercise', url: '3_02-les_fractions/02-exercise-15'},
        {name: 'scene-8', url: '3_02-les_fractions/01-scene-8.html'},
        {name: 'exercise-17', url: '3_02-les_fractions/02-exercise-17.html'},
        {name: 'scene-9', url: '3_02-les_fractions/01-scene-9.html'},
        {name: 'exercise-18', url: '3_02-les_fractions/02-exercise-18.html'},
        {name: 'scene-10', url: '3_02-les_fractions/01-scene-10.html'},
        {name: 'scene-11', url: '3_02-les_fractions/01-scene-11.html'},
        {name: 'scene-12', url: '3_02-les_fractions/01-scene-12.html'},
      ]},
      {name:'3.09 Gerers les donnees', scenes:[
        {name: '01', url: '3_09-gerer_des_donnees/01.html'}, 
        {name: '02', url: '3_09-gerer_des_donnees/02.html'}, 
        {name: '03', url: '3_09-gerer_des_donnees/03.html', disabled:true}, 
      ]},
      {name:'3.10 Les suites', scenes:[
        {name: '01', url: '3_10-les_suites/01.html'}, 
        {name: '02', url: '3_10-les_suites/02.html'}, 
        {name: '03', url: '3_10-les_suites/03.html'}, 
        {name: '04', url: '3_10-les_suites/04.html'}, 
        {name: '05', url: '3_10-les_suites/05.html'}, 
        {name: '06', url: '3_10-les_suites/06.html'}, 
        {name: '07', url: '3_10-les_suites/07.html'}, 
        {name: '08', url: '3_10-les_suites/08.html'}, 
        {name: '09', url: '3_10-les_suites/09.html'}, 
        {name: '10', url: '3_10-les_suites/10.html'}, 
        {name: '11', url: '3_10-les_suites/11.html'}, 
        {name: '12', url: '3_10-les_suites/12.html'}, 
        {name: '13', url: '3_10-les_suites/13.html'}, 
        {name: '14', url: '3_10-les_suites/14.html'}, 
        {name: '15', url: '3_10-les_suites/15.html'}, 
        {name: '16', url: '3_10-les_suites/16.html'},   
        {name: '17', url: '3_10-les_suites/17.html'}, 
        {name: '18', url: '3_10-les_suites/18.html'}, 
      ]},

    ]
    var activeScene = {}
    scope.getSceneLink = function(){
      return sceneBaseUrl+activeScene.url;
    }
    scope.selectScene = function(scene){
      window.scrollTo(0, 0);
      return activeScene = scene;
    }
    scope.isActiveScene = function(scene){
      return activeScene.url === scene.url;
    }
  </script>

  <div style="position:fixed; top:0px; bottom:0px; left:0px; width: 200px; overflow-y:scroll; border-right: 1px solid #999;" class="pa2">

    <div ng-repeat="sceneSection in sceneSections" class="mb2 type-xxxsmall">
      <div class="type-xxsmall mt3 mb2 bold" ng-bind="sceneSection.name"></div>
      <div class="pl2">
        <div ng-repeat="scene in sceneSection.scenes" ng-click="selectScene(scene)" class="clickable pb1 type-xxxsmall">
          <a href="" style="width:100%;"  ng-bind="scene.name" ng-class="{'bg-yellow':isActiveScene(scene), notready:scene.disabled}"></a>
        </div>
      </div>
    </div>

  </div>
  <div>
    <div inbook-include="{{getSceneLink()}}"></div>
  </div>
</div>
